<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LaraPezz</title>
    <link href="{{ mix('css/app.css') }}" rel="stylesheet">
</head>
<body class="bg-gray-100">

<div class="container mx-auto p-6">
    <h2 class="text-3xl font-semibold text-center mb-4">LaraPezz - Simple & Minimalist Penetration Testing Tool</h2>

    <form action="#" method="GET" id="penTestForm">
        <div class="mb-6">
            <label for="url" class="block text-lg font-medium text-gray-700">Enter URL for Testing</label>
            <input type="text" id="url" name="url" class="w-full p-3 mt-2 border border-gray-300 rounded-md" placeholder="https://example.com" required>
        </div>

        <div class="flex justify-center space-x-4">
            <button type="button" id="sqlTestBtn" class="px-6 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600">Test SQL Injection</button>
            <button type="button" id="xssTestBtn" class="px-6 py-2 bg-green-500 text-white rounded-md hover:bg-green-600">Test XSS</button>
        </div>
    </form>

    <div id="results" class="mt-6"></div>
</div>

<script src="{{ mix('js/app.js') }}"></script>
<script>
    document.getElementById('sqlTestBtn').addEventListener('click', async function () {
        const url = document.getElementById('url').value;
        const response = await fetch(`/sql-injection?url=${url}`);
        const data = await response.json();

        let resultsHTML = "<h3 class='text-xl font-semibold mb-4'>SQL Injection Test Results</h3><ul class='list-disc pl-5'>";
        data.forEach(result => {
            resultsHTML += `<li class="text-gray-800">${result}</li>`;
        });
        resultsHTML += "</ul>";

        document.getElementById('results').innerHTML = resultsHTML;
    });

    document.getElementById('xssTestBtn').addEventListener('click', async function () {
        const url = document.getElementById('url').value;
        const response = await fetch(`/xss?url=${url}`);
        const data = await response.json();

        let resultsHTML = "<h3 class='text-xl font-semibold mb-4'>XSS Test Results</h3><ul class='list-disc pl-5'>";
        data.forEach(result => {
            resultsHTML += `<li class="text-gray-800">${result}</li>`;
        });
        resultsHTML += "</ul>";

        document.getElementById('results').innerHTML = resultsHTML;
    });
</script>
</body>
</html>
